
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Introduction &#8212; Improv</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Initialization" href="Modules%3A-Asynchronous.html" />
    <link rel="prev" title="Flexible pipeline for neural experimentation" href="interfaces.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Improv</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="landing.html">
                    IMPROV
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="home.html">
   Table of Contents
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis%3A-Julia.html">
   Calling Julia functions from Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Building-and-Packaging.html">
   With pip:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Building-your-own-actor-system.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="classes.html">
   OnACID
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Data-Acquistion.html">
   From HDF5
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Data-Store%3A-Online.html">
   Data Store
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Data-Store%3A-Offline.html">
   Parameters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="design.html">
   <span class="xref myst">
    Master Server
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Docker.html">
   Requirements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Installation.html">
   Prerequisites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Installation-for-Windows.html">
   improv in Windows Subsystem for Linux
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interfaces.html">
   Flexible pipeline for neural experimentation
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Modules%3A-Asynchronous.html">
   Initialization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Modules%3A-Configuration-and-Architecture.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Process-Raw-Frames.html">
   Pipeline for online processing using CaImAn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Pytest-Testing.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Stimulation.html">
   Using ScanImage
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="store.html">
   Data Store
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="WSL%20INSTALL.html">
   WSL INSTALL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="API.html">
   API DOC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markdown.html">
   Installation guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="notebooks.html">
   Content with notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markdown-notebooks.html">
   Notebooks with MyST Markdown
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FMinimal-working-example.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/Minimal-working-example.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Introduction
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overview">
     Overview
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-demo">
   Running the demo
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#explanation">
   Explanation
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run">
     Run
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-config-file">
     The config file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-role-of-nexus">
     The role of Nexus
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Introduction</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Introduction
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overview">
     Overview
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-demo">
   Running the demo
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#explanation">
   Explanation
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run">
     Run
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-config-file">
     The config file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-role-of-nexus">
     The role of Nexus
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h1>
<p>For demonstration purposes, we have provided an example of an actor system within improv. This example can be found in the <code class="docutils literal notranslate"><span class="pre">improv/pytest</span></code> folder and is composed of 4 separate files: sample_generator.py, sample_processor.py, sample_demo.py, and sample_config.py. The first two can be found in the <code class="docutils literal notranslate"><span class="pre">pytest/actors</span></code> directory while the last can be found in the <code class="docutils literal notranslate"><span class="pre">pytest/configs</span></code> directory.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">#</a></h2>
<p>Recall that improv is a software platform that is composed of “actors” that communicate with each other. The arrangement of these actors and the communication between them can be modeled as a directed acyclic graph, where each actor is a node, and each edge is a communication link. Recall also that there is a server class called “Nexus” that handles the actors, as well as a data store called “Store”.</p>
<p>In this example, we will have two actors, denoted “Generator” and “Processor”, each connected to “Store”. We have the following diagram:</p>
<p><img alt="improv_diagram" src="https://user-images.githubusercontent.com/104780909/199650148-7e9493c5-1ba6-4f28-9e03-283d5a28efc1.jpg" /></p>
<p>At each time step, Generator will generate 5 integers from 1-100, and send them to Processor. Processor will then compute the average of these 5 numbers and output them to stdout. It will also keep track of a cumulative average.</p>
<p>***Note that the arrows between the store and the actors is dashed, unlike the arrow between actors. This is to denote that while the link between actors is an object(an instance of <a class="reference external" href="http://Link.py">Link.py</a>) that explicitly allows communication, any actor by default has read and write access to the store.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="running-the-demo">
<h1>Running the demo<a class="headerlink" href="#running-the-demo" title="Permalink to this headline">#</a></h1>
<p>To start the demo, execute the following commands:</p>
<ol class="simple">
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">improv/pytest</span></code> directory in the command line.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">sample_demo.py</span></code>.</p></li>
<li><p>When you see that improv has started all processes, type <code class="docutils literal notranslate"><span class="pre">setup</span></code> into the command line. This will begin the setup process, executing user defined setup functions. You should see the following output:</p></li>
</ol>
<p><img alt="improvwikioutput1" src="https://user-images.githubusercontent.com/104780909/199650389-dd0da8c4-7134-4c43-9934-d0cb1b00c72b.png" /></p>
<ol class="simple">
<li><p>Once improv has allowed start, type <code class="docutils literal notranslate"><span class="pre">run</span></code> into the command line. This will start running each actor, executing user defined run functions.</p></li>
<li><p>To end the demo, type <code class="docutils literal notranslate"><span class="pre">quit</span></code> into the command line.</p></li>
</ol>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="explanation">
<h1>Explanation<a class="headerlink" href="#explanation" title="Permalink to this headline">#</a></h1>
<p>For an explanation of what is going on internally when improv is running, please consult the <a class="reference external" href="https://github.com/project-improv/improv/wiki/Building-your-own-actor-system">wiki page</a> on building your own actors and actor system. For now, we can give a high level explanation.</p>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h2>
<p>When “setup” is run, every actor is sent a signal to execute their setup function. This can be initializing class variables, loading data, or anything else that is imperative for the actor to have before running. In our example, Generator first initializes the first 5 sets of 5 integers to be sent to processor. Processor’s setup function initializes its attributes such as its name. <strong>Every actor <em>must</em> have a setup function.</strong></p>
</section>
<section id="run">
<h2>Run<a class="headerlink" href="#run" title="Permalink to this headline">#</a></h2>
<p>When “run” is run, every actor is sent a signal to execute their run function. This can be a wide range of things, from acquiring data to displaying a GUI. The run function consists of a RunManager, a class used to allow the run to be modified during runtime. Along with this, an actor must also specify a helper function to be passed into the RunManager as an argument. The helper function contains the bulk of the functionality for run. For Generator, this helper function consists of generating 5 integers and passing it into its communication link to the store. For Processor, the run helper function gets the integers from Generator, computes the average and outputs it to stdout. <strong>Every actor <em>must</em> have a run function.</strong></p>
</section>
<section id="the-config-file">
<h2>The config file<a class="headerlink" href="#the-config-file" title="Permalink to this headline">#</a></h2>
<p>The config file specifies the identity and graph structure of the actors. For more of an explanation, please consult the <a class="reference external" href="https://github.com/project-improv/improv/wiki/Building-your-own-actor-system">wiki page</a> on building an actor system.</p>
</section>
<section id="the-role-of-nexus">
<h2>The role of Nexus<a class="headerlink" href="#the-role-of-nexus" title="Permalink to this headline">#</a></h2>
<p>Nexus is a server class that handles all the backend for the actors; this includes, among many other things, processing user input (like what happened when you type <code class="docutils literal notranslate"><span class="pre">setup</span></code> into the terminal), constructing the actor system from the config file, and initializing the store. It is <strong>not</strong> an actor.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="interfaces.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Flexible pipeline for neural experimentation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Modules%3A-Asynchronous.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Initialization</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By John m Person<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>